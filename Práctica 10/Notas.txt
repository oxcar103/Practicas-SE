Implementamos las funciones stub que necesitamos:
_open:
    - Si el dispositivo no existe, errno=ENODEV y devolvemos -1
    - Si el dispositivo existe:
        * Si el dispositivo no tiene implementación específica, se le asigna un descriptor y lo devolvemos
        * Si el dispositivo tiene implementación específica, se llama:
            ^ Si falla, la función ajusta errno y devolvemos -1
            ^ Si funciona, se le asigna un descriptor y lo devolvemos

_close:
    - Si el dispositivo no existe, errno=EBADF y devolvemos -1
    - Si el dispositivo existe:
        * Si el dispositivo no tiene implementación específica, errno=EBADF y devolvemos -1
        * Si el dispositivo tiene implementación específica, se llama:
            ^ Si falla, devolvemos su salida
            ^ Si funciona, devolvemos su salida

_read:
    - Si el dispositivo no existe, devolvemos 0
    - Si el dispositivo existe:
        * Si el dispositivo no tiene implementación específica, devolvemos 0
        * Si el dispositivo tiene implementación específica, se llama:
            ^ Si falla, devolvemos su salida
            ^ Si funciona, devolvemos su salida

_write:
    - Si el dispositivo no existe, devolvemos el total de datos a escribir
    - Si el dispositivo existe:
        * Si el dispositivo no tiene implementación específica, devolvemos el total de datos a escribir
        * Si el dispositivo tiene implementación específica, se llama:
            ^ Si falla, devolvemos su salida
            ^ Si funciona, devolvemos su salida

_lseek:
    - Si el dispositivo no existe, devolvemos 0
    - Si el dispositivo existe:
        * Si el dispositivo no tiene implementación específica, devolvemos 0
        * Si el dispositivo tiene implementación específica, se llama:
            ^ Si falla, devolvemos su salida
            ^ Si funciona, devolvemos su salida

_fstat:
    - Si el dispositivo no existe, st_mode = S_IFCHR y devolvemos 0
    - Si el dispositivo existe:
        * Si el dispositivo no tiene implementación específica, st_mode = S_IFCHR y devolvemos 0
        * Si el dispositivo tiene implementación específica, se llama:
            ^ Si falla, devolvemos su salida
            ^ Si funciona, devolvemos su salida

_isatty:
    - Si el dispositivo no existe, devolvemos 1
    - Si el dispositivo existe:
        * Si el dispositivo no tiene implementación específica, devolvemos 1
        * Si el dispositivo tiene implementación específica, se llama:
            ^ Si falla, devolvemos su salida
            ^ Si funciona, devolvemos su salida

Después de implementar todas estas funciones stub, registramos nuestro dispositivo dándole como implementaciones específicas uart_receive para read y uart_send para write, el resto se dejan a NULL.
